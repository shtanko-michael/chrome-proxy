<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8">
  <title>SOCKS5 Proxy ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏</title>
  <style>
    :root {
      color-scheme: light;
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --accent: #3b82f6;
      --accent-hover: #2f6fde;
      --border: #e5e7eb;
      --success-bg: #d1fae5;
      --success-text: #065f46;
      --error-bg: #fee2e2;
      --error-text: #991b1b;
    }

    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      padding: 24px;
      background: var(--bg);
      color: var(--text);
    }

    .container {
      max-width: 520px;
      margin: 0 auto;
    }

    h2 {
      margin: 0 0 16px;
      font-size: 20px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
      margin-bottom: 16px;
    }

    .section-title {
      font-size: 14px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 12px;
    }

    label {
      display: block;
      margin: 10px 0;
      font-weight: 600;
    }

    label span {
      display: block;
      font-weight: 500;
      color: var(--muted);
      margin-bottom: 6px;
    }

    input,
    select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      box-sizing: border-box;
      background: #fff;
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      align-items: end;
    }

    button {
      background: var(--accent);
      color: white;
      border: none;
      padding: 12px;
      width: 100%;
      margin-top: 12px;
      cursor: pointer;
      font-size: 15px;
      border-radius: 8px;
    }

    button:hover {
      background: var(--accent-hover);
    }

    .secondary {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
      margin-top: 0;
      width: auto;
      padding: 8px 12px;
    }

    .secondary:hover {
      background: #f3f4f6;
    }

    .row-button {
      display: flex;
      align-items: flex-end;
    }

    .secondary.small {
      padding: 6px 10px;
      font-size: 12px;
    }

    .help-row {
      display: flex;
      justify-content: flex-end;
      margin-top: 8px;
    }

    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.35);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .modal {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      max-width: 520px;
      width: calc(100% - 32px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .modal h3 {
      margin: 0 0 8px;
      font-size: 16px;
    }

    .modal p {
      margin: 6px 0;
      font-size: 14px;
      color: var(--text);
    }

    .modal code {
      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
      font-size: 12px;
      background: #f3f4f6;
      padding: 2px 6px;
      border-radius: 4px;
    }

    #status {
      margin-top: 10px;
      padding: 10px;
      border-radius: 6px;
      font-size: 14px;
    }

    .success {
      background: var(--success-bg);
      color: var(--success-text);
    }

    .error {
      background: var(--error-bg);
      color: var(--error-text);
    }

    .list {
      list-style: none;
      padding: 0;
      margin: 12px 0 0;
    }

    .list li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid var(--border);
    }

    .list .domain {
      font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
      font-size: 13px;
    }

    .muted {
      color: var(--muted);
      font-size: 13px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏</h2>

    <div class="card">
      <div class="section-title">–°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</div>
      <label>
        <span>SOCKS5 URL</span>
        <input id="proxyUrl" type="text" placeholder="scheme://host:port">
      </label>
      <div class="help-row">
        <button id="openReadme" class="secondary small" type="button">README</button>
      </div>
    </div>

    <div class="card">
      <div class="section-title">–î–æ–º–µ–Ω—ã —Å –ø—Ä–æ–∫—Å–∏</div>
      <p class="muted">–°–∞–π—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞ –±—É–¥—É—Ç –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.</p>
      <div>
        <label>
          <span>–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –≤ —Å–ø–∏—Å–æ–∫</span>
          <input id="domainInput" type="text" placeholder="example.com">
        </label>
        <div>
          <button id="addDomain" class="secondary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </div>
      <ul id="domainList" class="list"></ul>
    </div>

    <button id="save">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <div id="status"></div>
  </div>

  <script src="options.js"></script>

  <div id="readmeModal" class="modal-overlay" role="dialog" aria-modal="true">
    <div class="modal">
      <h3>–ö—Ä–∞—Ç–∫–∏–π –≥–∞–π–¥ –ø–æ —Å–µ—Ä–≤–µ—Ä—É</h3>
      <p>1) –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ SOCKS5‚Äë–ø—Ä–æ–∫—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Dante) –Ω–∞ VPS.</p>
      <p>2) –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ firewall (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>1080/tcp</code>).</p>
      <p>3) –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω: <code>systemctl status danted</code>.</p>
      <p>4) –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: <code>curl --socks5 host:port https://ipinfo.io/ip</code>.</p>
      <p>5) –í—Å—Ç–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∞ <code>socks5://host:port</code> –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.</p>
      <div class="help-row">
        <button id="closeReadme" class="secondary small" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>
</body>

</html>